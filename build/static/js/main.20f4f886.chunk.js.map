{"version":3,"sources":["Message.js","Button.js","SignOut.js","ChatRoom.js","SignIn.js","App.js","index.js"],"names":["Div","styled","div","props","sender","ProfilePic","img","Username","p","TextMsg","Message","message","text","uid","photoURL","username","isSender","auth","currentUser","src","alt","StyledButton","button","width","height","radius","duration","Button","rippleCount","cleanUpFunction","useState","ripples","setRipples","length","useLayoutEffect","bounce","clearTimeout","setTimeout","onMouseDown","e","x","pageX","currentTarget","offsetLeft","y","pageY","offsetTop","children","map","ripple","index","style","left","top","SignOut","onClick","signOut","AppDiv","Form","form","Header","Input","input","ChatRoom","firestore","dummy","useRef","messageRef","collection","query","orderBy","limit","useCollectionData","idField","messages","inputValue","setInputValue","sendMessage","event","a","preventDefault","trim","add","createdAt","firebase","FieldValue","serverTimestamp","displayName","current","scrollIntoView","behavior","msg","id","ref","onSubmit","placeholder","onChange","target","value","SignIn","provider","GoogleAuthProvider","signInWithPopup","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","App","useAuthState","user","className","theme","createMuiTheme","palette","primary","main","blue","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.20f4f886.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Div = styled.div`\r\n  display: flex;\r\n  flex-direction: ${props => (props.sender == true ? \"row-reverse\" : \"row\")};\r\n  align-items: center;\r\n  margin: 10px;\r\n  padding:10px;\r\n`;\r\nconst ProfilePic = styled.img`\r\n  width:50px;\r\n  height:50px;\r\n  margin: 0 10px 0 10px;\r\n`;\r\nconst Username = styled.p`\r\norder:${props => props.sender ? 1 : 0};\r\nfont-size: 10px;\r\nmargin: 0 0 5px 10px;\r\nfont-weight: bold;\r\n`;\r\nconst TextMsg = styled.p`\r\n  padding: 0.2em 0.6em;\r\n  background-color: ${props => props.sender ? \"#008BFE\" : \"#ffffff\"};\r\n  color: ${props => props.sender ? \"white\" : \"black\"};\r\n  margin: 5px;\r\n  margin-top: 0px;\r\n  border-radius: 1.3em;\r\n`;\r\n\r\nfunction Message(props) {\r\n  const { text, uid, photoURL, username } = props.message;\r\n  const isSender = uid === props.auth.currentUser.uid;\r\n  return (\r\n    <Div sender={isSender}>\r\n      {\r\n        !isSender && <ProfilePic src={photoURL} alt={\"Photo URL\"} />\r\n      }\r\n      <div>\r\n        <Username sender={isSender}>\r\n          {!isSender && username}\r\n        </Username>\r\n        <TextMsg sender={isSender}>{text}</TextMsg>\r\n      </div>\r\n    </Div>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect, useLayoutEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledButton = styled.button`\r\noverflow: hidden;\r\nposition: relative;\r\ncursor: pointer;\r\nwidth: ${props => props.width}px ;\r\nheight: ${props => props.height}px;\r\nborder: none;\r\nfont-size: 18px;\r\nborder-radius: ${props => props.radius ? props.radius : \"0\"}px;\r\nfont-weight: bold;\r\ncolor: white;\r\nbackground: linear-gradient( 90deg, #0162c8, #55e7fc);\r\n&:focus{\r\n  outline: none;\r\n}\r\n\r\ndiv{\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n}\r\nspan{\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fff;\r\n  animation: ripple ${props => props.duration}ms; \r\n}\r\n\r\n@keyframes ripple\r\n{\r\n  from{\r\n    width: 0;\r\n    height: 0;\r\n    opacity: 0.5;\r\n  }\r\n  to{\r\n    width: ${props => (props.width * 10)}px;\r\n    height: ${props => props.width * 10}px;\r\n    opacity: 0;\r\n  }\r\n}\r\n`;\r\n\r\nconst useDebouncedRippleCleanUp = (rippleCount, duration, cleanUpFunction) => {\r\n  useLayoutEffect(() => {\r\n    let bounce = null;\r\n    if (rippleCount > 0) {\r\n      clearTimeout(bounce);\r\n\r\n      bounce = setTimeout(() => {\r\n        cleanUpFunction();\r\n        clearTimeout(bounce);\r\n      }, duration);\r\n    }\r\n\r\n    return () => clearTimeout(bounce);\r\n  }, [rippleCount, duration, cleanUpFunction]);\r\n};\r\n\r\nfunction Button(props) {\r\n  const [ripples, setRipples] = useState([]);\r\n\r\n  useDebouncedRippleCleanUp(ripples.length, props.duration, () => {\r\n    setRipples([]);\r\n  })\r\n\r\n  const addRipple = e => {\r\n    setRipples([...ripples, {\r\n      x: e.pageX - e.currentTarget.offsetLeft,\r\n      y: e.pageY - e.currentTarget.offsetTop\r\n    }]);\r\n  }\r\n\r\n  return (\r\n    <StyledButton onMouseDown={addRipple} duration={props.duration} width={props.width} height={props.height} radius={props.radius}>\r\n      {props.children}\r\n      {\r\n        ripples.length > 0 &&\r\n        ripples.map((ripple, index) => (\r\n          <span style={{\r\n            left: ripple.x,\r\n            top: ripple.y\r\n          }}\r\n            key={index}\r\n          />\r\n        ))\r\n      }\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nfunction SignOut(props) {\r\n  return (\r\n    props.auth.currentUser && (\r\n      <div onClick={() => props.auth.signOut()}>\r\n        <Button width=\"100\" height=\"35\" radius=\"20\" >Sign Out</Button>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default SignOut;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport Message from \"./Message\";\r\nimport SignOut from \"./SignOut\";\r\n\r\nimport firebase from \"firebase/app\";\r\nimport styled from \"styled-components\";\r\nimport Button from './Button.js';\r\n\r\nconst AppDiv = styled.div`\r\n  width: 90vh;\r\n  background-color: #181a1b;\r\n  color: white;\r\n  main{\r\n  height: 82vh;\r\n  overflow:scroll;\r\n  overflow-x: hidden;\r\n  &::-webkit-scrollbar{\r\n    width: 10px;\r\n\tbackground-color: transparent;\r\n  }\r\n  &::-webkit-scrollbar-thumb{\r\n    background-color: #008BFE;\r\n    border-radius: 1rem;\r\n  }\r\n  }\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display:flex;\r\n  justify-content: center;\r\n  width: 90%;\r\n  margin: 10px;\r\n  overflow: hidden;\r\n  border-radius: .5rem;\r\n`;\r\n\r\nconst Header = styled.div`\r\nwidth: 100%;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\npadding: 10px; \r\nbackground-color: black;\r\nimg{\r\n  width: 50px;\r\n}\r\n\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n  outline: none;\r\n  padding: 0 1rem;\r\n  font-size: 1rem;\r\n  &::placeholder{\r\n    font-size: 1rem;\r\n    color: white;\r\n  }\r\n  &:focus::placeholder{\r\n    color: transparent;\r\n  }\r\n`;\r\n\r\n\r\nfunction ChatRoom(props) {\r\n  const { auth, firestore } = props;\r\n  const dummy = useRef();\r\n  const messageRef = firestore.collection(\"messages\");\r\n  const query = messageRef.orderBy(\"createdAt\").limit(25);\r\n  const [messages] = useCollectionData(query, { idField: \"id\" });\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  const onTextChange = event => {\r\n    setInputValue(event.target.value);\r\n  };\r\n\r\n  const sendMessage = async event => {\r\n    event.preventDefault();\r\n    if (inputValue.trim() === \"\") return;\r\n    const { uid, photoURL } = auth.currentUser;\r\n    setInputValue(\"\");\r\n\r\n    await messageRef.add({\r\n      text: inputValue,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      uid,\r\n      photoURL,\r\n      username: auth.currentUser.displayName,\r\n    });\r\n\r\n    dummy.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <AppDiv>\r\n      <Header>\r\n        <div>\r\n          <img src={auth.currentUser.photoURL} />\r\n        </div>\r\n        <h1>Messenger</h1>\r\n        <SignOut auth={auth} />\r\n      </Header>\r\n      <main>\r\n        {messages &&\r\n          messages.map(msg => (\r\n            <Message message={msg} key={msg.id} auth={auth} />\r\n          ))}\r\n        <div ref={dummy}></div>\r\n      </main>\r\n      <Form onSubmit={sendMessage}>\r\n        <Input placeholder=\"Type your message...\" onChange={onTextChange} value={inputValue} />\r\n        <Button duration=\"1000\" width=\"100\" height=\"40\">\r\n          Send\r\n          </Button>\r\n      </Form>\r\n    </AppDiv>\r\n  );\r\n}\r\n\r\nexport default ChatRoom;\r\n","import { Button } from \"@material-ui/core\";\r\nimport firebase from \"firebase/app\";\r\nimport React from \"react\";\r\n\r\nfunction SignIn(props) {\r\n  const signInWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    props.auth.signInWithPopup(provider);\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Login In with Google</h1>\r\n      <Button onClick={signInWithGoogle}>Sign In</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { useState } from \"react\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport firebase from 'firebase/app';\n\nimport ChatRoom from \"./ChatRoom\";\nimport SignIn from \"./SignIn\";\n\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport './App.css';\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyDIZ1Gt6KqxVxkagJ9StLua29MxlrrwbNg\",\n  authDomain: \"messenger-clone-1c4eb.firebaseapp.com\",\n  projectId: \"messenger-clone-1c4eb\",\n  storageBucket: \"messenger-clone-1c4eb.appspot.com\",\n  messagingSenderId: \"416137967972\",\n  appId: \"1:416137967972:web:2b533a05d4f14243ab6271\",\n  measurementId: \"G-R3R50VZV3V\",\n});\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore()\n\nfunction App() {\n  const [user] = useAuthState(auth);\n  return (\n    <div className=\"App\">\n      {user ? <ChatRoom auth={auth} firestore={firestore} firebase={firebase} /> : <SignIn auth={auth} />}\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\"\nimport blue from '@material-ui/core/colors/blue';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: blue[500]\n    },\n  }\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}